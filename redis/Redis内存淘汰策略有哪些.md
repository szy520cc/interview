## Redis 内存满了，会发生什么？

在 Redis 的运行内存达到了某个阀值，就会触发**内存淘汰机制**，这个阀值就是我们设置的最大运行内存，此值在 Redis 的配置文件中可以找到，配置项为 maxmemory。

## Redis 内存淘汰策略有哪些？
### 1、不进行数据淘汰的策略
**noeviction**（Redis3.0之后，默认的内存淘汰策略） ：当运行内存超过最大阈值时，不淘汰任何数据，而是不再提供服务，直接返回错误。

### 2、进行数据淘汰的策略
针对「进行数据淘汰」这一类策略，又可以细分为「在设置了过期时间的数据中进行淘汰」和「在所有数据范围内进行淘汰」这两类策略。

LRU（Least Recently(/ˈriːs(ə)ntli/) Used）：最近最少使用
LFU（Least Frequently(/ˈfriːkwəntli/) Used）：最近最不常用

#### 在设置了过期时间的key中进行淘汰：（volatile /ˈvɒlətaɪl/）：设置了过期时间

- volatile-random：从设置了过期时间的键中随机淘汰任意键值；
- volatile-ttl：从设置了过期时间的键中淘汰即将过期的键值；
- volatile-lru（Redis3.0 之前，默认的内存淘汰策略）：从设置了过期时间的键中淘汰最近最少使用的键值；
- volatile-lfu（Redis 4.0 后新增的内存淘汰策略）：从设置了过期时间的键中淘汰使用频率最低的键值；

#### 在所有数据范围内进行淘汰：

- allkeys-random：从所有键中随机淘汰任意键值; 
- allkeys-lru：从所有键中淘汰最近最少使用的键值；； 
- allkeys-lfu（Redis 4.0 后新增的内存淘汰策略）：从所有键中淘汰使用频率最低的键值。
